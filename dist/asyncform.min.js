var forms=document.getElementsByClassName("async-form");Array.prototype.forEach.call(forms,function(a){var b=a.action,c=a.querySelector(".async-form__messages"),d=a.querySelector("button"),e=document.createElement("input");e.type="hidden",e.name="hasjs",e.value="true",a.appendChild(e),a.addEventListener("submit",function(e){e.preventDefault(),d.classList.add(".async-form__button--fetching"),d.disabled=!0,fetch(b,{method:"POST",body:new FormData(e.target)}).then(function(a){return d.classList.remove(".async-form__button--fetching"),d.disabled=!1,a.ok?a.text():Promise.reject(a)}).then(function(b){c.innerHTML="<div class='async-form__message async-form__message--success'>"+b+"</div>",a.reset()}).catch(function(a){console.warn("Something went wrong.",a),a.text().then(function(a){c.innerHTML="<div class='async-form__message async-form__message--error'>"+a+"</div>"})})})});